\documentclass[article,a4paper,11pt,onseside,final]{memoir}

\input{preamble/preamble.tex}
% Preamble additions
%\input{preamble/acronyms.tex}
\input{preamble/authors.tex}
\input{preamble/hyphenations.tex}

% Comment out the following to remove word and letter counts
\countstrue

% Reference definition
\usepackage[danish]{cleveref}
\crefname{exa}{eksempel}{eksempler}
\newcommand{\myref}[1]{\vref{#1}}
\newcommand{\Myref}[1]{\Vref{#1}}


\begin{document}

\chapter{Disposition}

	\begin{itemize}
	\item Introduktion og indledning (Nikolaj)
	\item SOTA, problemformulering og udviklingsproces (Marc)
	\item Produktkrav og programopbygning (Troels)
	\item Model- og persistenslag (Tristan)
	\item Gennemgang af program (Søren)
	\item Forbedringer af programmet og refleksion (Caspar)
	\item Procesanalyse	(Thomas)
	\end{itemize}

\newpage
\chapter{Rettelser til det afleverede materiale}

\section{Rapportændringer}
\begin{itemize}
    \item Afsnit 6.2(State of the Art). BoatCloud beskrivelsen af applikationerne var forkert og blandet sammen. Hvordan programmets applikationer aktuelt virker vil blive gennemgået i fremlæggelsen, funktionaliteten er dog den samme.
    \item Afsnit 14.2(Database Abstraction Layer). Her er der en fejl i termonologien, det korrekte er et ``Data Access Layer'' (DAL). Forviringen er her at et ``Database abstraction layer'' bruger samme forkortelse: DAL. 
\end{itemize}

\section{Kodeændringer}

\textbf{I McSntt/Views/Windows/CreateBoatBookingWindow.xaml.cs, linje 45-47}
\lstset{firstnumber=45}
\begin{lstlisting}[frame=single, caption=CreateBoatBookingWindow.cs ændringer, label=fntpg-cb]
+ // The following lines will select the first eligible member if the above line didn't select any.
+ if(this.CaptainComboBox.SelectedIndex == -1 && this.CrewList.Count(p => p.PersonId == rt.CaptainId) > 0) 
+     this.CaptainComboBox.SelectedIndex = 0;
\end{lstlisting}

\lstset{firstnumber=57}
\textbf{I McSntt/Views/Windows/NewLecture.xaml.cs, linje 57}
\begin{lstlisting}[frame=single, caption=NewLecture.xaml.cs ændringer, label=fntpg-cb]
+ trip.Crew.Add(this._currentTeam.Teacher);
\end{lstlisting}

\textbf{Ændringer til Events, Database Create og Update}

Der var blevet overset en fejl i samarbejdet med databasen i denne del af programmet, efter en ændring på noget af brugergrænsefladen.
Disse ændringer, har fikset dette, og det virker nu efter hensigten.

\lstset{firstnumber=13}
\textbf{I McSntt/Views/Windows/EventsPopup.xaml.cs, linje 13}
\begin{lstlisting}[frame=single, caption=EventsPopup.xaml.cs ændringer, label=fntpg-cb]
+        private readonly bool IsUpdate;
\end{lstlisting}
\lstset{firstnumber=31}
\textbf{Linje 31-32}
\begin{lstlisting}[frame=single, label=fntpg-cb]
+            Button.Content = "Rediger";
+            this.IsUpdate = true;
\end{lstlisting}

\textbf{Linje 81-87}
\begin{lstlisting}[frame=single, label=fntpg-cb]
-  DalLocator.EventDal.Create(newEvent);
+  if (this.IsUpdate) {
+      DalLocator.EventDal.Update(this.newEvent);
+  }
+  else
+  {
+      DalLocator.EventDal.Create(this.newEvent);
+  }
\end{lstlisting}

\lstset{firstnumber=40}
\textbf{I McSntt/Views/Windows/EventsAdmin.xaml.cs, linje 40}
\begin{lstlisting}[frame=single, caption=EventsPopup.xaml.cs ændringer, label=fntpg-cb]
-  var newEvent = new Event();
\end{lstlisting}


\lstset{firstnumber=46}
\textbf{Linje 46-51}
\begin{lstlisting}[frame=single, label=fntpg-cb]
-  if (newEvent.Created)
-     {
-       this.EventsList.Add(newEvent);
+       this.EventsList = DalLocator.EventDal.GetAll().ToList();
+       DalLocator.EventDal.LoadData(this.EventsList);
\end{lstlisting}

\lstset{firstnumber=56}
\textbf{Linje 56}
\begin{lstlisting}[frame=single, label=fntpg-cb]
- DalLocator.EventDal.Create(newEvent);
\end{lstlisting}

\lstset{firstnumber=80}
\textbf{Linje 81}
\begin{lstlisting}[frame=single, label=fntpg-cb]
-  DalLocator.EventDal.Update(selectedEvent);
\end{lstlisting}

\newpage
\chapter{Demonstration}

I denne sektion, findes hvilke elementer, der testes og vises af programmet, samt i hvilken rækkefølge disse udføres under præsentationen.

\begin{itemize}
	\item Login: Anders and (Medlem)
		\begin{itemize}
			\item Udfyld logbog
			\item Find og vis udfyldte logbog (Båden Anastasia)
			\item Lej båden Isabella
			\item Begivenheder, tilmeld, frameld se tilmeldte.
			\item MedlemsTab - Er der evt. for mange informationer?
		\end{itemize}
	\item Login: Oskar lauridsen (Admin)
		\begin{itemize}
			\item En ekstra tab (Undervisning)
			\item Begivenheder opret, slet, opdater
			\item Forfrem hold Masterrace
			\item Opret ny lektion for svenskerne
			\item Udfyld lektionsinformation
			\item Find nyoprettede lektion, som autogenereres. 
			\item Svar på skadesrapport for udfyldte Logbog
		\end{itemize}
	\item Log ud, og vis persistenslag, hvordan filerne opdateres, i mappen, samt at informationerne fra sidste kørsel stadig findes.
\end{itemize}

\end{document}
